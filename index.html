<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Javascript General</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
  <input type="button" value="Reload page" onclick="window.location.reload();">
<br>
  <canvas id="canvas2" width="800" height="300" style='border:2px dashed #0000FF;'></canvas>ctx2<br>
    <input id="ani" type="button" value="Animate: changing ball"
    onclick="toggleanimation();"/>
    <br>Background:<input type="color" id="bgball" value=#20D7DC name="bgball">
<script>
const canvas2 = document.getElementById("canvas2");
const ctx2 = canvas2.getContext("2d");
let radius = 1;
let lPause = true;
let dir = 1;
let count = 0;
let step = 1;
function animation(){
  if (!lPause)
     requestAnimationFrame(animation);
let bgcolour = document.getElementById("bgball").value;
  ctx2.clearRect(0,0,innerWidth,innerHeight);
  ctx2.beginPath();//background
ctx2.fillStyle = bgcolour;
ctx2.rect(0, 0, innerWidth, innerHeight);
ctx2.fill();
if(count%180==0){
  step=-step;
}
if(step>0){
ctx2.closePath();
  ctx2.beginPath();//dot
ctx2.fillStyle = "green";
ctx2.arc(100, 100, radius, 0, 2 * Math.PI);
ctx2.fill();
ctx2.closePath();
ctx2.beginPath();//rim
ctx2.strokeStyle = "blue";
ctx2.lineWidth = 2;
ctx2.arc(100 , 100, radius, 0, 2 * Math.PI);
ctx2.stroke();
ctx2.closePath();
  if (radius > 40 || radius == 0){
    dir=-dir;
  }
  radius = radius+(0.25*dir);
  count++;
}
}
function toggleanimation() {
  if (lPause)
    {  lPause = false;
	   requestAnimationFrame(animation);
	   document.getElementById("ani").value = "Pause: changing ball";
    }
  else
    {  lPause = true;
	   document.getElementById("ani").value = "Animate: changing ball";
    }
}

</script>
</body>
</html>